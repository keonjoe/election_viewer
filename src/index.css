@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default fallback; overridden dynamically by JS based on isDarkMode.
       The 'only' keyword tells the browser it MUST NOT override colors. */
    color-scheme: only light;
  }

  /* Support viewport-fit=cover on devices with system bars / notches */
  body {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Prevent Chrome #enable-force-dark from inverting SVG fill colors.
     The 'only' keyword ensures the browser cannot override the color scheme
     on these elements, preserving the carefully computed election result colors. */
  svg,
  svg * {
    color-scheme: only light;
  }
}

@layer utilities {
  .circle-transition {
    transition: cx 0.6s cubic-bezier(0.4, 0, 0.2, 1),
      cy 0.6s cubic-bezier(0.4, 0, 0.2, 1),
      r 0.6s cubic-bezier(0.4, 0, 0.2, 1),
      fill 0.6s cubic-bezier(0.4, 0, 0.2, 1),
      opacity 0.2s ease-in-out;
  }

  .circle-playing {
    transition: none;
    will-change: cx, cy, r, fill;
  }
}